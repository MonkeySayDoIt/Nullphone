<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>NULLPHONE</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;background:black;
  display:flex;align-items:center;justify-content:center;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif
}
.phone{
  width:100%;max-width:390px;height:100%;max-height:780px;
  background:#0b0b0b;color:white;border-radius:26px;
  overflow:hidden;position:relative
}
.status{
  height:32px;padding:6px 12px;
  display:flex;justify-content:space-between;
  font-size:13px;opacity:.85
}
.screen{
  position:absolute;top:32px;left:0;right:0;bottom:0;
  background:#0b0b0b;
  transform:translateY(100%);
  opacity:0;
  transition:transform .35s ease,opacity .35s ease
}
.screen.active{transform:translateY(0);opacity:1}
.lock{display:flex;flex-direction:column;align-items:center;justify-content:center}
.lock .time{font-size:48px;font-weight:300}
.lock .hint{opacity:.5;margin-top:10px}
.home{
  padding:28px;
  display:grid;grid-template-columns:repeat(3,1fr);gap:22px
}
.icon{text-align:center;font-size:12px}
.icon .box{
  width:64px;height:64px;border-radius:16px;
  background:#1a1a1a;margin:0 auto 6px;
  display:flex;align-items:center;justify-content:center;font-size:24px
}
.app{padding:24px;display:flex;flex-direction:column}
.app button{
  margin-top:auto;padding:14px;border-radius:14px;
  background:#1a1a1a;color:white;border:none;font-size:16px
}
textarea{
  flex:1;background:#050505;color:#00ff88;
  font-family:monospace;border:none;border-radius:12px;
  padding:12px;margin-bottom:12px;resize:none
}
</style>

<style id="sandbox-style"></style>
</head>

<body>
<div class="phone">

<div class="status">
  <div id="statusTime"></div>
  <div id="battery"></div>
</div>

<div class="screen lock active" id="lock">
  <div class="time" id="lockTime"></div>
  <div class="hint">Tap to unlock</div>
</div>

<div class="screen home" id="home">
  <div class="icon" onclick="openApp('system')"><div class="box">‚öôÔ∏è</div>System</div>
  <div class="icon" onclick="openApp('signal')"><div class="box">üì°</div>Signal</div>
  <div class="icon" onclick="openApp('void')"><div class="box">‚¨õ</div>Void</div>
  <div class="icon" onclick="openApp('dev')"><div class="box">üíª</div>Dev</div>
</div>

<div class="screen app" id="system">
  <h2>System</h2>
  <p id="sysText">NULLPHONE OS 1.0</p>
  <button onclick="goHome()">Home</button>
</div>

<div class="screen app" id="signal">
  <h2>Signal</h2>
  <p id="sigText">Awaiting input.</p>
  <button onclick="goHome()">Home</button>
</div>

<div class="screen app" id="void">
  <h2>Void</h2>
  <p>Nothing responds.</p>
  <button onclick="goHome()">Home</button>
</div>

<div class="screen app" id="dev">
  <h2>Dev Console</h2>
  <textarea id="devInput" placeholder="// JS or CSS
// Save = permanent"></textarea>
  <button onclick="runDev()">Run (temp)</button>
  <button onclick="saveJS()">Save Permanent JS</button>
  <button onclick="saveCSS()">Save Permanent CSS</button>
  <button onclick="clearAll()" style="opacity:.6">Clear Permanent</button>
  <button onclick="goHome()">Home</button>
</div>

</div>

<script>
/* CLOCK */
const st=document.getElementById("statusTime");
const lt=document.getElementById("lockTime");
setInterval(()=>{const t=new Date().toLocaleTimeString([],{
  hour:"2-digit",minute:"2-digit"
});st.textContent=t;lt.textContent=t},1000);

/* BATTERY */
let b=100;const be=document.getElementById("battery");
setInterval(()=>{b=Math.max(0,b-.05);be.textContent=Math.floor(b)+"%"},3000);

/* NAV */
function setScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active")
}
function openApp(id){setScreen(id)}
function goHome(){setScreen("home")}
document.getElementById("lock").onclick=()=>setScreen("home")

/* PERSISTENCE */
const JSKEY="NULLPHONE_JS",CSSKEY="NULLPHONE_CSS";
const sandbox=document.getElementById("sandbox-style");
const dev=document.getElementById("devInput");

/* LOAD SAVED */
if(localStorage.getItem(CSSKEY)){
  sandbox.textContent=localStorage.getItem(CSSKEY)
}
if(localStorage.getItem(JSKEY)){
  try{new Function(localStorage.getItem(JSKEY))()}catch(e){}
}

/* DEV */
function runDev(){
  try{new Function(dev.value)();alert("Executed (temp)")}
  catch(e){alert(e.message)}
}
function saveJS(){
  localStorage.setItem(JSKEY,dev.value);
  alert("Permanent JS saved. Reload to confirm.")
}
function saveCSS(){
  localStorage.setItem(CSSKEY,dev.value);
  sandbox.textContent=dev.value;
  alert("Permanent CSS saved.")
}
function clearAll(){
  localStorage.removeItem(JSKEY);
  localStorage.removeItem(CSSKEY);
  sandbox.textContent="";
  alert("Permanent code cleared. Reload.")
}
</script>
</body>
</html>
